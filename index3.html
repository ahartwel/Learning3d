<html>
	<head>
		<title>My first Three.js app</title>
		<style>canvas { width: 100%; height: 100% }
        
          iframe {
             border:0; 
        
           -moz-user-select: -moz-none;
    -khtml-user-select: none;
    -webkit-user-select: none;
    -o-user-select: none;
    user-select: none;
              pointer-events: none;
            }
        </style>
	</head>
	<body>
		<script src="three.min.js"></script>
        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="detector.js"></script>
<script src="Stats.js"></script>
<script src="OrbitControls.js"></script>
<script src="THREEx.KeyboardState.js"></script>
<script src="THREExFullScreen.js"></script>
<script src="THREEx.WindowResize.js"></script>

<!-- new for this example -->
<script src="CSS3DRenderer.js"></script>
    
        
		<script>
            
            document.addEventListener('keydown',onDocumentKeyDown,false);
function onDocumentKeyDown(event){
    
var cameraRotY = camera.rotation.y;    
var cameraRotX = camera.rotation.x;
var cameraRotZ = camera.rotation.z;
    
var delta = 15;
    

event = event || window.event;
var keycode = event.keyCode;
switch(keycode){
case 37 : //left arrow 向左箭头
var xAdd = Math.sin(cameraRotY)*delta;
var zAdd = Math.cos(cameraRotY)*delta;
    console.log(zAdd);
        console.log(xAdd);
camera.position.z = camera.position.z+xAdd;
camera.position.x = camera.position.x-zAdd;      

break;
case 38 : // up arrow 向上箭头 
var xAdd = Math.sin(cameraRotY)*delta;
var zAdd = Math.cos(cameraRotY)*delta;
camera.position.z = camera.position.z-zAdd;
camera.position.x = camera.position.x-xAdd;
break;
case 39 : // right arrow 向右箭头
var xAdd = Math.sin(cameraRotY)*delta;
var zAdd = Math.cos(cameraRotY)*delta;
camera.position.z = camera.position.z- xAdd;
camera.position.x = camera.position.x+zAdd;
break;
case 40 : //down arrow向下箭头
var xAdd = Math.sin(cameraRotY)*delta;
var zAdd = Math.cos(cameraRotY)*delta;
camera.position.z = camera.position.z+ zAdd;
camera.position.x = camera.position.x+xAdd;
break;
case 87:
camera.position.y = camera.position.y + delta;
break;
case 83:
camera.position.y = camera.position.y - delta;
break;
}
document.addEventListener('keyup',onDocumentKeyUp,false);
}
function onDocumentKeyUp(event){

}
    
            
            
            
            
            
            
			var scene = new THREE.Scene();
            var camera = new THREE.PerspectiveCamera(30, window.innerWidth/window.innerHeight, 10, 1000);
           var mouseX, mouseY;
            var clock = new THREE.Clock();
            
            
            var renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth-100, window.innerHeight-100);
			document.body.appendChild(renderer.domElement);
            
           
var geometry = new THREE.PlaneGeometry( 256, 546.133 );
var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );
var runnerTexture = new THREE.ImageUtils.loadTexture( 'wierdTreeSprites.png' );
var runnerMaterial = new THREE.MeshBasicMaterial( { map: runnerTexture, side:THREE.DoubleSide } );    

var plane = new THREE.Mesh( geometry, runnerMaterial );
scene.add( plane );
            
            
            camera.position.z = 505;
            
            $( document ).mousemove(function( event ) {
                 mouseX = event.pageX;
                mouseY = event.pageY;
});
            
            function render() {
                requestAnimationFrame(render);
                
                if (mouseX<=(.2)*window.innerWidth) {
                 camera.rotation.y+=.01;  
                
                }
                if (mouseX>=(.7)*window.innerWidth) {
                 camera.rotation.y-=.01;  
                
                }
                
                //cube.rotation.x += .001;
                //cube.rotation.y += .01;
                
                renderer.render(scene, camera);
                
            }
            
            
            
                    
        
            
            
            render();
            
            
		</script>
	</body>
</html>